下面我會依照你的口述，把整個「五關團康網頁」完整寫成 **可直接交給工程師 / AI 編輯器使用的《功能規格書》**。
格式是標準 Web 規格描述（包含介面、互動、遊戲流程、狀態、資料格式、介面元素、邏輯狀態），你可以直接交付給開發者。

我會清楚描述第三關之後「說動物挑戰」的 UI 行為，包含你貼的那張圖：

* **八格動物圖示**
* **紅框標示目前應念的動物**
* **背景音 BPM=91，方框依 BPM 移動**

---

# ✅ **《團康網頁五關挑戰 – 完整規格書》**

---

# 🟧 **0. 系統總描述**

此網頁是一個團康活動用的互動式遊戲頁面。
共有五關，分成兩大類：

### **語言對戰類：**

1. **第一關：照樣造句（什麼來什麼去）**
2. **第二關：創意接龍（一…就…）**

### **反應速度類：**

3. **第三關：說動物挑戰（動畫圖示亂序 & 可重複）**
4. **第四關：說動物挑戰進階（真實動物照片 & 可重複）**
5. **第五關：終極版（真實動物照片 & 不重複）**

每一關都有 **A隊 / B隊 對戰模式（循環式 PK）**
記錄每關勝負，最後統計結果。

---

# 🟫 **1. 網頁主要結構**

```
- Header
  - 遊戲名稱
  - 當前關卡名稱
  - A隊 vs B隊 分數版

- Main Area（依關卡呈現不同 UI）
  - 第一～二關：文字題目 + 計時器 + 輪到誰
  - 第三～五關：8 格動物圖片區 + 紅框提示 + BPM 移動

- Footer
  - 「開始」 / 「重新開始」 / 「進入下一關」按鈕
  - BGM 開關
```

---

# 🟦 **2. 關卡詳規**

---

# ⭐ **【第一關】照樣造句 —「什麼來什麼去」**

### **玩法**

* 題型固定：「什麼來什麼去」
* A隊先說 → B隊 → A隊 → B隊…（循環）
* 每人 5 秒內必須講出一個符合句型的詞語，如：

  * 進來出去
  * 說來說去
  * 飄來飛去

### **失敗條件**

* 未在 5 秒內說出 → 該隊失敗

### **UI 描述**

```
[題目文字區]
  - 大字呈現：「請造句：什麼來什麼去」

[輪到區]
  - 顯示：「輪到：A隊第 2 人」

[倒數計時器]
  - 5 秒倒數條
  - 數字顯示「5、4、3…」

[紀錄區]
  - 本輪輸贏紀錄：顯示 A/B 隊是否失敗
  - 儲存在 state.score.level1 = "A" 或 "B"
```

---

# ⭐ **【第二關】創意接龍 —「一…就…」**

### **核心規則**

* A隊先講第一句：

  * 例：「一出門就下雨」
* B隊接續「上一句的第二個狀態」：

  * 例：「一下雨就想睡」
* A隊再接續 B 隊那句的「後半段」

  * 例：「一想睡就開始打呼」

### **UI 描述**

```
[句子顯示區]
  - 上一句：顯示上一隊提供的句子
  - 要接續的關鍵字：高亮顯示「想睡」

[輪到區]
  - 顯示「輪到 B隊」

[倒數計時器]
  - 5 秒倒數

[紀錄區]
  - level2 勝者存進 state.score.level2
```

---

# 🟥 **【第三～五關：說動物挑戰核心 UI】**

以下三關 UI 統一，只是「圖片來源 & 是否可重複」的邏輯不同。

---

# ⭐ **共同 UI 結構（第三、四、五關皆使用）**

### **(1) 8 格圖片展示區**

```
┌────┬────┬────┬────┐
│ 1  │ 2  │ 3  │ 4  │
├────┼────┼────┼────┤
│ 5  │ 6  │ 7  │ 8  │
└────┴────┴────┴────┘
```

* 每格顯示一張動物圖片（動畫版 or 真實版）
* 圖片大小一致，建議 200 × 200 px

### **(2) 紅框指示器**

* 紅色描邊方框會框出「當前需要念的動物」
* 方框每次移動一格
* 移動速度依 BPM 計算：

---

## 🟧 **BPM = 91 的移動邏輯**

BPM 代表「每分鐘 91 拍」

每拍時間 = 60 / 91 ≈ **0.659 秒**

→ 紅框每 0.659 秒移動到下一張圖
→ 循環直到全部動物念完或玩家失敗

---

# ⭐ **【第三關】說動物挑戰（動畫版，可重複）**

### **圖示來源**

* 使用卡通 / 插圖風格的動物圖片
* 來源固定（狗、貓、牛、馬、雞、鳥、熊、豬等）

### **動物序列：可重複**

例：

```
豬、雞、雞、牛、魚、魚、狗、豬
```

### **流程**

1. 生成亂序動物序列（長度 8）
2. 顯示在 8 格區塊
3. 紅框從第 1 格開始
4. 使用 BPM 計算移動
5. 玩家需跟著念出每格的動物
6. 念錯或 Lag → 該隊失敗

---

# ⭐ **【第四關】進階動物挑戰（真實圖片，可重複）**

與第三關差別：

* 圖片改為真實照片
* 隨機取自一組真實動物圖庫
* 仍然「可重複」

UI 與流程完全一致。

---

# ⭐ **【第五關：終極動物挑戰（真實圖片，不重複）】**

差別在於：

* **序列不重複，8 格必定 8 種不同動物**
  例：

```
雞、豬、牛、馬、魚、鳥、狗、熊
```

* 依然 BPM = 91
* 紅框一樣每拍移動

---

# 🟫 **3. 紅框動畫規格**

**紅框尺寸：**

* 比格子圖片外框大 4 px
* 描邊 4px，顏色：#FF3333

**動畫行為：**

* eased-in-out 或 linear（建議 linear）
* 每 0.659 秒切換到下一格
* 當到第 8 格 → 回到第 1 格（循環模式）

**控制參數：**

```
frameDuration = 60 / 91   // 約 0.659 秒
currentIndex: 0~7
```

---

# 🟩 **4. 系統狀態管理 (State)**

```
state = {
  currentLevel: 1~5,

  score: {
    level1: null | "A" | "B",
    level2: null | "A" | "B",
    level3: null | "A" | "B",
    level4: null | "A" | "B",
    level5: null | "A" | "B",
  },

  animalSequence: [8 個動物名稱],
  redFrameIndex: 0,
}
```

---

# 🟪 **5. 音效 & BPM 框架**

### **背景音 (BGM)**

* 使用一段 BPM = 91 的背景音樂
* 按下「開始」後播放
* 「重播 / 暫停」按鈕提供使用者控制

### **紅框同步音效 (可選)**

* 每移動一次可播放 click 音

---

# 🟨 **6. 控制按鈕**

```
[上一關] [下一關]
[開始] [暫停] [重置]
[背景音 on/off]
```

---

# 🟦 **7. 最終結果頁**

顯示：

* 五關結果總結
* A隊勝場數
* B隊勝場數

格式例：

```
第一關：A 勝
第二關：B 勝
第三關：A 勝
第四關：B 勝
第五關：A 勝

🏆 最終勝利：A 隊 🏆
```


# ✅ **《補充更新規格：第二關 UI、網站名稱、風格、字體、技術棧》**

---

## 🟦 **一、第二關（創意接龍）UI 修正規格**

### **原先流程保持不變，但 UI 修改如下：**

### ❌ 不顯示上一隊講的句子

* 不顯示上一隊的完整句子
* 不顯示上一隊講的關鍵詞
* 不做語意比對

因為語音辨識不一定可靠，所以 **遊戲僅以「時間壓力 + 隨機創意接龍」為主**。

---

### ✅ 新 UI 顯示方式（類似第一關）：

```
[題目顯示區 – 大字]
一 ◯◯ 就 ◯◯
（提示句型即可，不需顯示前一句）
```

* 僅顯示句型模板
* 玩家需在五秒內自己講出創意的「一…就…」句子
* 系統不檢查句子內容正確性，只視為「是否在時間內講出一句話」

---

## 🟦 **二、網站正式名稱**

網站整體名稱更新為：

# 🎮 **《服學好好玩》**

（”服學“＝服務學習）

首頁 Title、Header、Meta Title 都統一使用此名字。

---

## 🟧 **三、整體美術風格**

### 🔸 **主題風格：可愛像素風格（Pixel Style）**

* 所有 UI 按鈕、框線、圖示都使用 **像素化** 視覺
* 顏色採用活潑明亮系（偏復古掌機感，如 GB / NES 風格）
* 介面方框、按鈕都有 1〜2px 的 Pixel Outline
* 動物挑戰中的「紅框」也要做成像素風（非抗鋸齒線條）

---

## 🟨 **四、網站字體規格**

### **主要字體：俐方體11號 / Cubic 11**

* 整站所有中文字體統一使用 Cubic 11（像素風一致）
* 英文可配合使用像素風等寬字體（如 Press Start 2P）
* 字體將以 **Webfont 方式載入**

---

### 🔥 **重要要求：字體需要壓縮（Subset）**

你會提供 font file → 網站需使用 **字體壓縮（font subsetting）**
目標：

* **只保留網頁中有出現的字**（大幅減少字體體積）
* 產生 .woff2 最佳化檔案
* 加快載入速度
* Tailwind 可搭配 `<link rel="preload" as="font">`

我會在規格中加入如下技術要求：

```
字體需進行 Subset：僅保留網頁文案中會使用到的中文字、英數字。
輸出格式：woff2
載入模式：preload + font-display: swap
```

---

## 🟦 **五、技術棧（Tech Stack）**

以下為這個專案的正式技術要求：

---

### ✅ **前端框架**

* **React（最新版）**
* **Vite 或 Next.js（若你需要可再補充）**

---

### ✅ **樣式框架**

* **Tailwind CSS**

特別設定：

* 使用 Tailwind config 擴充像素風字體
* 使用 Tailwind utilities 客製像素邊框、像素 hover 效果

---

### ✅ **動畫與邏輯**

* 紅框動畫以「CSS + requestAnimationFrame」控制
* or GSAP（如你想用可加）

---

### ✅ **字體壓縮工具（建議）**

* **Glyphhanger**
* fonttools pyftsubset
* 或 Webfont Subset API（如你想交給另一個 AI 自動處理）

---

### 🔧 資料結構與狀態

* React state 或 Zustand 管管理遊戲狀態
* 5 個關卡結果儲存在 global state
* 動物序列以 array 生成，決定是否允許重複

---

## 🟦 **六、補充的 UI 要求整理**

我會將這些同步整合進規格：

* 全站像素邊框（1〜2px 黑框）
* 像素按鈕 hover：亮度 +5%
* 背景：像素背景（如小方格、條紋、波點）
* 動物圖片若為真實圖，也會加像素邊框統一風格
* 全站使用 Cubic 11 字體

---